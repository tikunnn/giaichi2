# Generated by Django 5.1.4 on 2024-12-22 15:53

import ckeditor_uploader.fields
import django.db.models.deletion
import simple_history.models
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Cong_trinh_da',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ten_cong_trinh', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('dia_chi', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('goithau', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('han_muc_thi_cong', models.CharField(blank=True, default='', max_length=1255, null=True)),
                ('tinhtrang', models.CharField(blank=True, choices=[('KHOI_TAO', 'KHỞI TẠO'), ('BAO_GIA', 'BÁO GIÁ'), ('THUONG_THAO', 'THƯƠNG THẢO'), ('THI_CONG', 'THI CÔNG'), ('HOAN_THANH', 'HOÀN THÀNH'), ('HUY', 'HỦY')], default='KHOI_TAO', max_length=255, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
            ],
            options={
                'verbose_name': 'CT_3. CÔNG TRÌNH',
                'verbose_name_plural': 'CT_3. CÔNG TRÌNH',
                'ordering': ('id',),
            },
        ),
        migrations.CreateModel(
            name='Phongban',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('mapb', models.CharField(blank=True, default='', max_length=255, null=True, verbose_name='Mã Phòng Ban')),
                ('tenpb', models.CharField(default='', max_length=255, unique=True, verbose_name='Tên Phòng Ban')),
                ('ngaythanhlap', models.DateTimeField(null=True, verbose_name='Năm thành lập')),
                ('conhansu', models.BooleanField(blank=True, default=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='TKco',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tentkco', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('mota', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('report_nsp', models.BooleanField(blank=True, default=False, null=True)),
            ],
            options={
                'verbose_name': 'TK Có',
                'verbose_name_plural': 'TK Có',
                'ordering': ('id',),
            },
        ),
        migrations.CreateModel(
            name='Giaichi',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('biennhan', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('guiduyet', models.CharField(choices=[('0', 'Gửi TGĐ & TCKT '), ('1', 'Gửi TP |GĐ ')], max_length=20, verbose_name='Trạng Thái Gửi Duyệt')),
                ('hangmuc', models.CharField(choices=[('0', 'Hàng Hóa'), ('1', 'Mua Sắm Thiết Bị'), ('2', 'Khác'), ('3', 'Dự án  - công trình'), ('4', 'Đồ Nghề'), ('5', 'Chi Phí'), ('6', 'Giao Nhận'), ('7', 'Chi Phí N/A'), ('8', 'Nội Bộ'), ('9', 'Chế Độ'), ('10', 'Giải Chi Âm'), ('11', 'Tiếp Khách - GD Giao Tế'), ('12', 'Công Tác'), ('13', 'Xăng Dầu'), ('14', 'Sửa Chữa - Bảo Dưỡng Xe'), ('15', 'GC NB DUONG <-> ÂM'), ('16', 'Sửa Chữa'), ('17', 'LÃI VAY'), ('18', 'Sổ Tiết Kiệm'), ('19', 'Trái Phiếu'), ('20', 'Gửi Tiền Mặt'), ('21', 'Vật Tư Mua Ngoài'), ('22', 'CP BAO CAO NOI BO DSP'), ('23', 'TẠM ỨNG 141 '), ('24', 'N/A MUA HÀNG -NSP '), ('25', 'N/A BÁN HÀNG -NSP '), ('26', 'CONG NAM SAPA '), ('27', 'ĐÀU TƯ'), ('28', 'CHI PHÍ CHÀNH XE '), ('29', 'ĐI TỈNH & NGOÀI GIỜ')], max_length=20, verbose_name='Hạng Mục')),
                ('noidungmota', ckeditor_uploader.fields.RichTextUploadingField(blank=True, max_length=500, null=True)),
                ('giaichithietbi', models.JSONField(blank=True, null=True, verbose_name='Trang Thiết Bị')),
                ('tieude', models.CharField(default='', max_length=500)),
                ('ghichu', models.CharField(blank=True, default='Thu Quy :', max_length=2000, null=True)),
                ('trangthaiduyetgiaichi', models.BooleanField(default=False)),
                ('trangthaiduyet_admin', models.BooleanField(default=False)),
                ('trangthaiduyet_kinhdoanh', models.BooleanField(default=False)),
                ('trangthaiduyet_pp', models.BooleanField(default=True)),
                ('trangthaiduyet_tp', models.BooleanField(default=False)),
                ('trangthaiduyet_tckt', models.BooleanField(default=True)),
                ('trangthaiduyet_sep', models.BooleanField(default=False)),
                ('trangthaihuy', models.BooleanField(default=False)),
                ('trangthaihoanthanh', models.BooleanField(default=False)),
                ('noidungthanhtoan', models.CharField(blank=True, max_length=500, null=True)),
                ('tiengiaichi', models.BigIntegerField(default=0)),
                ('hinhthucthanhtoan', models.CharField(blank=True, choices=[('0', 'Tiền Mặt'), ('1', 'Chuyển Khoản'), ('2', 'Luân Chuyển Nội Bộ')], max_length=20, null=True, verbose_name='Hình Thức Thanh Toán')),
                ('motathanhtoan', models.CharField(blank=True, default='', max_length=2255, null=True)),
                ('macheck', models.CharField(blank=True, default='', max_length=2255, null=True)),
                ('xacnhanthanhtoan', models.CharField(blank=True, default='', max_length=2255, null=True)),
                ('check_duyet', models.BooleanField(blank=True, null=True, verbose_name='Check TGĐ/TCKT Duyệt')),
                ('trangthaiduyet_dsp', models.BooleanField(default=False)),
                ('trangthaiduyet_khac', models.BooleanField(default=False)),
                ('checkgiaichigiaonhan', models.BooleanField(default=False)),
                ('checkgiaichiduan', models.BooleanField(default=False)),
                ('giaichithuoc', models.CharField(blank=True, choices=[('1', 'Đông Sapa'), ('2', 'Nam Sapa'), ('3', 'Ngoài')], max_length=20, null=True, verbose_name='Hàng Hóa Thuộc')),
                ('vat', models.CharField(blank=True, default=0, max_length=255, null=True)),
                ('giaingan', models.BooleanField(blank=True, default=False, null=True, verbose_name='Giải Ngân')),
                ('xacnhan_giaingan', models.BooleanField(blank=True, default=False, null=True, verbose_name='Xác Nhận Giải Ngân')),
                ('giaichiam', models.BooleanField(blank=True, default=False, null=True)),
                ('thoigian_dsp', models.DateTimeField(blank=True, null=True)),
                ('thoigian_khac', models.DateTimeField(blank=True, null=True)),
                ('thoigian_check_giaonhan', models.DateTimeField(blank=True, null=True)),
                ('thoigian_check_duan', models.DateTimeField(blank=True, null=True)),
                ('thoigian_pp', models.DateTimeField(blank=True, null=True)),
                ('thoigian_tp', models.DateTimeField(blank=True, null=True)),
                ('thoigian_sep', models.DateTimeField(blank=True, null=True)),
                ('thoigian_thanhtoan', models.DateTimeField(blank=True, null=True)),
                ('check_chuyen_giaingan', models.BooleanField(blank=True, default=False, null=True)),
                ('tkno', models.CharField(blank=True, max_length=200, null=True, verbose_name=' TK Nợ')),
                ('ytno', models.CharField(blank=True, max_length=200, null=True, verbose_name=' YT Nợ')),
                ('tkco', models.CharField(blank=True, max_length=200, null=True, verbose_name=' TK Có')),
                ('ytco', models.CharField(blank=True, max_length=200, null=True, verbose_name=' YT Có')),
                ('thongbaotao', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_check', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_duyet_pp', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_duyet_tp', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_duyet_sep', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_duyet_ht', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_duyet_huy', models.BooleanField(blank=True, default=False, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('congtrinh', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='giaichi.cong_trinh_da')),
                ('username', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Filegiaichis',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('files', models.FileField(blank=True, default='', null=True, upload_to='giaichi/')),
                ('giaichi', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='filegiaichis', to='giaichi.giaichi')),
            ],
            options={
                'verbose_name': 'FILE GIAI CHI',
                'verbose_name_plural': 'FILE GIAI CHI',
            },
        ),
        migrations.CreateModel(
            name='Nhanvien',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('manv', models.CharField(default='', max_length=255, unique=True, verbose_name='Mã Nhân Viên')),
                ('tennv', models.CharField(default='', max_length=255, verbose_name='Họ Tên Nhân Viên')),
                ('username', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='Tài Khoản Nhân Viên')),
            ],
        ),
        migrations.CreateModel(
            name='HistoricalCong_trinh_da',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('ten_cong_trinh', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('dia_chi', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('goithau', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('han_muc_thi_cong', models.CharField(blank=True, default='', max_length=1255, null=True)),
                ('tinhtrang', models.CharField(blank=True, choices=[('KHOI_TAO', 'KHỞI TẠO'), ('BAO_GIA', 'BÁO GIÁ'), ('THUONG_THAO', 'THƯƠNG THẢO'), ('THI_CONG', 'THI CÔNG'), ('HOAN_THANH', 'HOÀN THÀNH'), ('HUY', 'HỦY')], default='KHOI_TAO', max_length=255, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('updated_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('kinhdoanh', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='giaichi.nhanvien')),
                ('truongteam', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='giaichi.nhanvien')),
            ],
            options={
                'verbose_name': 'historical CT_3. CÔNG TRÌNH',
                'verbose_name_plural': 'historical CT_3. CÔNG TRÌNH',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.AddField(
            model_name='giaichi',
            name='nhanvien',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='giaichi.nhanvien'),
        ),
        migrations.AddField(
            model_name='cong_trinh_da',
            name='kinhdoanh',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='kinhdoanh_congtrinh', to='giaichi.nhanvien'),
        ),
        migrations.AddField(
            model_name='cong_trinh_da',
            name='truongteam',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='truongteam_congtrinh', to='giaichi.nhanvien'),
        ),
        migrations.CreateModel(
            name='HistoricalGiaichi',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('biennhan', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('guiduyet', models.CharField(choices=[('0', 'Gửi TGĐ & TCKT '), ('1', 'Gửi TP |GĐ ')], max_length=20, verbose_name='Trạng Thái Gửi Duyệt')),
                ('hangmuc', models.CharField(choices=[('0', 'Hàng Hóa'), ('1', 'Mua Sắm Thiết Bị'), ('2', 'Khác'), ('3', 'Dự án  - công trình'), ('4', 'Đồ Nghề'), ('5', 'Chi Phí'), ('6', 'Giao Nhận'), ('7', 'Chi Phí N/A'), ('8', 'Nội Bộ'), ('9', 'Chế Độ'), ('10', 'Giải Chi Âm'), ('11', 'Tiếp Khách - GD Giao Tế'), ('12', 'Công Tác'), ('13', 'Xăng Dầu'), ('14', 'Sửa Chữa - Bảo Dưỡng Xe'), ('15', 'GC NB DUONG <-> ÂM'), ('16', 'Sửa Chữa'), ('17', 'LÃI VAY'), ('18', 'Sổ Tiết Kiệm'), ('19', 'Trái Phiếu'), ('20', 'Gửi Tiền Mặt'), ('21', 'Vật Tư Mua Ngoài'), ('22', 'CP BAO CAO NOI BO DSP'), ('23', 'TẠM ỨNG 141 '), ('24', 'N/A MUA HÀNG -NSP '), ('25', 'N/A BÁN HÀNG -NSP '), ('26', 'CONG NAM SAPA '), ('27', 'ĐÀU TƯ'), ('28', 'CHI PHÍ CHÀNH XE '), ('29', 'ĐI TỈNH & NGOÀI GIỜ')], max_length=20, verbose_name='Hạng Mục')),
                ('noidungmota', ckeditor_uploader.fields.RichTextUploadingField(blank=True, max_length=500, null=True)),
                ('giaichithietbi', models.JSONField(blank=True, null=True, verbose_name='Trang Thiết Bị')),
                ('tieude', models.CharField(default='', max_length=500)),
                ('ghichu', models.CharField(blank=True, default='Thu Quy :', max_length=2000, null=True)),
                ('trangthaiduyetgiaichi', models.BooleanField(default=False)),
                ('trangthaiduyet_admin', models.BooleanField(default=False)),
                ('trangthaiduyet_kinhdoanh', models.BooleanField(default=False)),
                ('trangthaiduyet_pp', models.BooleanField(default=True)),
                ('trangthaiduyet_tp', models.BooleanField(default=False)),
                ('trangthaiduyet_tckt', models.BooleanField(default=True)),
                ('trangthaiduyet_sep', models.BooleanField(default=False)),
                ('trangthaihuy', models.BooleanField(default=False)),
                ('trangthaihoanthanh', models.BooleanField(default=False)),
                ('noidungthanhtoan', models.CharField(blank=True, max_length=500, null=True)),
                ('tiengiaichi', models.BigIntegerField(default=0)),
                ('hinhthucthanhtoan', models.CharField(blank=True, choices=[('0', 'Tiền Mặt'), ('1', 'Chuyển Khoản'), ('2', 'Luân Chuyển Nội Bộ')], max_length=20, null=True, verbose_name='Hình Thức Thanh Toán')),
                ('motathanhtoan', models.CharField(blank=True, default='', max_length=2255, null=True)),
                ('macheck', models.CharField(blank=True, default='', max_length=2255, null=True)),
                ('xacnhanthanhtoan', models.CharField(blank=True, default='', max_length=2255, null=True)),
                ('check_duyet', models.BooleanField(blank=True, null=True, verbose_name='Check TGĐ/TCKT Duyệt')),
                ('trangthaiduyet_dsp', models.BooleanField(default=False)),
                ('trangthaiduyet_khac', models.BooleanField(default=False)),
                ('checkgiaichigiaonhan', models.BooleanField(default=False)),
                ('checkgiaichiduan', models.BooleanField(default=False)),
                ('giaichithuoc', models.CharField(blank=True, choices=[('1', 'Đông Sapa'), ('2', 'Nam Sapa'), ('3', 'Ngoài')], max_length=20, null=True, verbose_name='Hàng Hóa Thuộc')),
                ('vat', models.CharField(blank=True, default=0, max_length=255, null=True)),
                ('giaingan', models.BooleanField(blank=True, default=False, null=True, verbose_name='Giải Ngân')),
                ('xacnhan_giaingan', models.BooleanField(blank=True, default=False, null=True, verbose_name='Xác Nhận Giải Ngân')),
                ('giaichiam', models.BooleanField(blank=True, default=False, null=True)),
                ('thoigian_dsp', models.DateTimeField(blank=True, null=True)),
                ('thoigian_khac', models.DateTimeField(blank=True, null=True)),
                ('thoigian_check_giaonhan', models.DateTimeField(blank=True, null=True)),
                ('thoigian_check_duan', models.DateTimeField(blank=True, null=True)),
                ('thoigian_pp', models.DateTimeField(blank=True, null=True)),
                ('thoigian_tp', models.DateTimeField(blank=True, null=True)),
                ('thoigian_sep', models.DateTimeField(blank=True, null=True)),
                ('thoigian_thanhtoan', models.DateTimeField(blank=True, null=True)),
                ('check_chuyen_giaingan', models.BooleanField(blank=True, default=False, null=True)),
                ('tkno', models.CharField(blank=True, max_length=200, null=True, verbose_name=' TK Nợ')),
                ('ytno', models.CharField(blank=True, max_length=200, null=True, verbose_name=' YT Nợ')),
                ('tkco', models.CharField(blank=True, max_length=200, null=True, verbose_name=' TK Có')),
                ('ytco', models.CharField(blank=True, max_length=200, null=True, verbose_name=' YT Có')),
                ('thongbaotao', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_check', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_duyet_pp', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_duyet_tp', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_duyet_sep', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_duyet_ht', models.BooleanField(blank=True, default=False, null=True)),
                ('thongbao_duyet_huy', models.BooleanField(blank=True, default=False, null=True)),
                ('created_at', models.DateTimeField(blank=True, editable=False)),
                ('updated_at', models.DateTimeField(blank=True, editable=False)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('congtrinh', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='giaichi.cong_trinh_da')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('username', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('nhanvien', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='giaichi.nhanvien')),
                ('phongban', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='giaichi.phongban')),
                ('thuocvecongty', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='giaichi.phongban')),
            ],
            options={
                'verbose_name': 'historical giaichi',
                'verbose_name_plural': 'historical giaichis',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.AddField(
            model_name='giaichi',
            name='phongban',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='related_primary_giaichi', to='giaichi.phongban'),
        ),
        migrations.AddField(
            model_name='giaichi',
            name='thuocvecongty',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='related_secondary_giaichi', to='giaichi.phongban'),
        ),
    ]
